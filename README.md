# 几种C++调用C# DLL的简单例子  

### 1. C#通过导出函数由C++用LoadLibrary加载dll.  

### 2. Clr引入C# DLL后直接调用（见ClrTest工程）.  

### 3. c++通过CLR托管接口从内存中加载.NET程序集（见ClrHost工程）.   

具体操作看源码。
这里强烈推荐第三种方法，你可以将DLL转成字节数组变成C++的一个变量，这样就不用落地直接调用。至于安全方面，可以将dll的数组分段切割或者将dll的数组加密后再放进去，调用时重新拼成正常PE或者解密dll数组后再调用。或者直接将C++宿主混淆加密加壳等。这相当于给托管程序集加了个C++外衣，变相给c#程序加了壳。有了dnSpy、ILSpy、de4dot这些，.net安全性堪忧，VM类壳又容易报毒，而且文件都大了一倍。换成C++逆向就难多了，用IDA、X64DBG这些总比.net反编译要难得多。
